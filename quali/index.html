<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Boas Vindas</title>
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '839138854780074');
    fbq('track', 'PageView');   // IMPORTANTE! PIXEL
  </script>
  <style>
:root{
  --bg:#ffffff; /* fundo branco */
  --green:#1f9d3a;
  --green-dark:#15732b;
  --red:#cc1f1f;
  --red-dark:#9d1515;
  --text:#111; /* texto escuro, melhor contraste no fundo branco */
  --bubble:#f0f0f0; /* bolha do usu√°rio (Sim/N√£o) */
}
    *{box-sizing:border-box}
    html,body{height:100%}
body{
  margin:0;
  background:radial-gradient(800px 400px at 70% -10%, rgba(31,157,58,.15), transparent 70%) , var(--bg);
  background-attachment: fixed;
  color:var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  display:flex;
  flex-direction:column;
  height:100%;
}
    .scroll{
      flex:1;
      overflow-y:auto;
      padding:18px;
      display:flex;
      flex-direction:column;
      justify-content:flex-start;
      gap:12px;
      width:100%;
      max-width:680px;
      margin:0 auto;
      padding-bottom:60px; /* espa√ßo no rodap√© */
    }
    .bubble{
    max-width:85%; 
    padding:12px 14px; 
    border-radius:16px; 
    line-height:1.35; 
    font-size:15px; 
    position:relative;
    }
    
 .bubble.bot{
  background:linear-gradient(180deg, var(--green), var(--green-dark));
  color:white;
  align-self:flex-start;
  border-top-left-radius:4px;
}

.bubble.user{
  background:var(--bubble);
  color:#111;
  align-self:flex-end;
  border-top-right-radius:4px;
}



    .typing{border-right:2px solid rgba(255,255,255,.85); animation:blink .9s step-end infinite;}
    @keyframes blink{50%{border-color:transparent}}

    .choices{display:none; gap:10px; align-self:flex-end; justify-content:flex-end}
    .btn{
      cursor:pointer; border:1px solid rgba(255,255,255,.2); color:#fff;
      padding:10px 14px; border-radius:12px; font-size:14px;
      transition:.3s ease-in-out;
      backdrop-filter: blur(8px);
      background: rgba(255,255,255,0.08);
      position:relative;
      overflow:hidden;
    }
    .btn::before{
      content:"";
      position:absolute;
      top:0; left:-100%;
      width:200%; height:100%;
      background:linear-gradient(120deg, rgba(255,255,255,.15) 0%, rgba(255,255,255,0) 60%);
      transform:skewX(-20deg);
      transition:all 0.6s;
    }
    .btn:hover::before{left:100%;}
    .btn:hover{transform:translateY(-2px);}

.btn.yes{
  background:linear-gradient(180deg, #1da33c, #168730); /* verde mais escuro */
  border-color:#0c5b1f;
}

.btn.no{
  background:linear-gradient(180deg, #cc2222, #b11a1a); /* vermelho mais escuro */
  border-color:#6d0d0d;
}

    @media (max-width:480px){
      .scroll{padding:14px}
      .bubble{font-size:14px}
    }
  </style>
</head>
<body>
  <div id="scroll" class="scroll" aria-live="polite"></div>
  <audio id="clickSound" src="https://cdn.pixabay.com/download/audio/2025/08/03/audio_1df12d5efc.mp3?filename=computer-mouse-click-02-383961.mp3" preload="auto"></audio>

  <script>
  (function(){
    const scroll = document.getElementById('scroll');
    const clickSound = document.getElementById('clickSound');

    const intro = [     // IMPORTANTE! FRASE INICIAL
      'Seja bem vindo(a), fico feliz de te ver por aqui!üòÄüòÄ',
      'Responda a estas perguntas r√°pidas, para poder te ajudar da melhor forma...üëç'
    ];

    const questions = [   // IMPORTANTE!   PERGUNTAS QUALIFICAT√ìRIAS
      'Faz ou j√° fez acompanhamento com Nutricionista ou Personal?',
      'E acompanhamento de Consultoria Fitness Online?',
      'Tem feito acompanhamento M√©dico com exames?',
      'Voc√™ tem plano de sa√∫de?',
      'Usa suplementos ou recursos hormonais?'
    ];

    const YES_REDIRECT = 'https://wa.me/5562984888498?text=Ol%C3%A1%2C%20quero%20verificar%20disponibilidade%20para%20consulta';  // QUALIFICADO   IMPORTANTE! 
    const NO_REDIRECT  = 'https://appstartfit.com/iniciar/';   // DESQUALIFICADO  IMPORTANTE! 

    let idx = -intro.length;
    let yesCount = 0;

    function el(tag, cls, text){
      const e = document.createElement(tag);
      if(cls) e.className = cls;
      if(text!==undefined) e.textContent = text;
      return e;
    }

    function autoscroll(){
      scroll.scrollTo({ top: scroll.scrollHeight, behavior: 'smooth' });
    }

    function typeBotMessage(text, onDone){
      const b = el('div','bubble bot');
      const span = el('span','typing','');
      b.appendChild(span);
      scroll.appendChild(b);
      autoscroll();

      let i=0;
      const speedBase = 22;
      const jitter = () => Math.random()*18;
      (function tick(){
        if(i < text.length){
          span.textContent = text.slice(0, ++i);
          autoscroll();
          setTimeout(tick, speedBase + jitter());
        } else {
          span.classList.remove('typing');
          if(onDone) onDone();
        }
      })();
    }

    function showChoices(){
      const wrap = el('div','choices');
      const yes = el('button','btn yes','Sim');
      const no  = el('button','btn no','N√£o');

      yes.setAttribute('aria-label','Responder sim');
      no.setAttribute('aria-label','Responder n√£o');

      yes.addEventListener('click', () => {clickSound.play(); choose(true)});
      no.addEventListener('click',  () => {clickSound.play(); choose(false)});

      wrap.appendChild(no); wrap.appendChild(yes);
      scroll.appendChild(wrap);
      wrap.style.display = 'flex';
      autoscroll();
    }

    function pushUserAnswer(ans){
      const b = el('div','bubble user', ans ? 'Sim' : 'N√£o');
      scroll.appendChild(b);
      autoscroll();
    }

    function choose(ans){
      if(ans) yesCount++;
      const lastChoices = scroll.querySelector('.choices:last-of-type');
      if(lastChoices) lastChoices.remove();

      pushUserAnswer(ans);

  // dispara o evento Lead apenas na primeira resposta IMPORTANTE!
  if(idx === 0){
    fbq('track', 'Lead');
  }


      idx++;

      if(idx < questions.length){
        setTimeout(() => ask(idx), 350);
      } else {
        finish();
      }
    }

    function ask(i){
      if(i < 0){
        typeBotMessage(intro[i+intro.length], () => {
          idx++;
          if(idx < 0){
            setTimeout(() => ask(idx), 1500);
          } else {
            setTimeout(() => ask(0), 1500);
          }
        });
      } else {
        typeBotMessage(questions[i], showChoices);
      }
    }

    function finish(){
      setTimeout(() => {
        typeBotMessage('Obrigado pelas respostas!‚úÖ', () => {
          setTimeout(() => {
            if(yesCount >= 3){    // IMPORTANTE! quantidade de SIM's para qualificar
              fbq('track', 'CompleteRegistration');     // IMPORTANTE! pixel MQL
              window.location.assign(YES_REDIRECT);
            } else {
              window.location.assign(NO_REDIRECT);
            }
          }, 900);
        });
      }, 350);
    }

    setTimeout(() => ask(idx), 300);
  })();
  </script>




  <script>
  // Bloqueia clique direito
  document.addEventListener("contextmenu", e => e.preventDefault());

  // Bloqueia teclas espec√≠ficas
  document.addEventListener("keydown", e => {
    if (
      e.key === "F12" || // DevTools
      (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J")) ||
      (e.ctrlKey && (e.key === "U" || e.key === "C" || e.key === "S")) 
    ) {
      e.preventDefault();
    }
  });

  // Bloqueia PrintScreen (b√°sico, mas pode ser burlado)
  document.addEventListener("keyup", e => {
    if (e.key === "PrintScreen") {
      navigator.clipboard.writeText("");
      alert("Captura de tela desativada.");
    }
  });

  // Bloqueia sele√ß√£o de texto e arrastar imagens
  document.addEventListener("selectstart", e => e.preventDefault());
  document.addEventListener("dragstart", e => e.preventDefault());

  // Bloqueia zoom (desktop)
  document.addEventListener("wheel", e => {
    if (e.ctrlKey) e.preventDefault();
  }, { passive: false });

  // Bloqueia zoom (mobile)
  document.addEventListener("gesturestart", e => e.preventDefault());

</script>



<script>
  // Captura par√¢metros da URL (UTMs)
  const params = window.location.search;

  if (params) {
    const ctaBtn = document.getElementById("cta-button");
    if (ctaBtn) {
      // Se j√° tiver "?" no href, usa "&" para concatenar
      const sep = ctaBtn.href.includes("?") ? "&" : "?";
      ctaBtn.href += sep + params.substring(1);
    }
  }
</script>

</body>
</html>
